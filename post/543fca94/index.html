<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Nmap-使用基础 | 浔若-学习日记</title><script>!function(e){"use strict";!function(){var i,s=window,o=document,a=e,c="".concat("https:"===o.location.protocol?"https://":"http://","sdk.51.la/js-sdk-pro.min.js"),n=o.createElement("script"),r=o.getElementsByTagName("script")[0];n.type="text/javascript",n.setAttribute("charset","UTF-8"),n.async=!0,n.src=c,n.id="LA_COLLECT",a.d=n,i=function(){s.LA.ids.push(a)},s.LA?s.LA.ids&&i():(s.LA=e,s.LA.ids=[],i()),r.parentNode.insertBefore(n,r)}()}({id:"K0S1pJ29H2ukhGgL",ck:"K0S1pJ29H2ukhGgL"})</script><meta name=author content="xunruo"><meta name=author-link content="https://xunruo.top"><meta name=description content="nmap使用基础"><meta name=keywords content="nmap"><meta itemprop=name content="Nmap-使用基础"><meta itemprop=description content="nmap使用基础"><meta itemprop=datePublished content="2023-03-28T14:44:40+08:00"><meta itemprop=dateModified content="2023-03-28T14:44:40+08:00"><meta itemprop=wordCount content="4520"><meta itemprop=image content="https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png"><meta itemprop=keywords content="nmap,"><meta property="og:title" content="Nmap-使用基础"><meta property="og:description" content="nmap使用基础"><meta property="og:type" content="article"><meta property="og:url" content="https://xunruo.top/post/543fca94/"><meta property="og:image" content="https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-28T14:44:40+08:00"><meta property="article:modified_time" content="2023-03-28T14:44:40+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png"><meta name=twitter:title content="Nmap-使用基础"><meta name=twitter:description content="nmap使用基础"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=referrer content="never"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://xunruo.top/post/543fca94/><link rel=prev href=https://xunruo.top/post/5ded7b78/><link rel=next href=https://xunruo.top/post/9a9550e5/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://npm.elemecdn.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css><link rel=stylesheet href=https://npm.elemecdn.com/animate.css@4.1.1/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Nmap-使用基础","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/xunruo.top\/post\/543fca94\/"},"genre":"posts","keywords":"nmap","wordcount":4520,"url":"https:\/\/xunruo.top\/post\/543fca94\/","datePublished":"2023-03-28T14:44:40+08:00","dateModified":"2023-03-28T14:44:40+08:00","publisher":{"@type":"Organization","name":"xunruo"},"author":{"@type":"Person","name":"xunruo"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=浔若-学习日记><img loading=lazy src=https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png srcset="https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png, https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png 1.5x, https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png 2x" sizes=auto data-title=浔若-学习日记 data-alt=浔若-学习日记 class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>XR</span></a><span class=header-subtitle></span></div><div class=menu><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/ title=我的所有文章><i class='fas fa-inbox'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/tags/ title=标签页><i class='fas fa-tags'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/categories/ title=分类页><i class='fas fa-file'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/friends/ title=友链><i class='fas fa-link'></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about/ title=关于我><i class='fas fa-address-card'></i> 关于</a></li></ul></nav></div><div class=menu><nav><ul class=menu><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=浔若-学习日记><img loading=lazy src=https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png srcset="https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png, https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png 1.5x, https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png 2x" sizes=auto data-title=https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png data-alt=https://npm.elemecdn.com/xunruo@0.0.0/themes/butterfly/source/img/avatar.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>XR</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/ title=我的所有文章><i class='fas fa-inbox'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/tags/ title=标签页><i class='fas fa-tags'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/categories/ title=分类页><i class='fas fa-file'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/friends/ title=友链><i class='fas fa-link'></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about/ title=关于我><i class='fas fa-address-card'></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class="container container-reverse" data-page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Nmap-使用基础</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://xunruo.top title=作者 target=_blank rel="external nofollow noopener noreferrer author" class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
xunruo</a></span>
<span class=post-category>收录于 <a href=/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 工具使用</a></span></div><div class=post-meta-line><span title="发布于 2023-03-28 14:44:40"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2023-03-28>2023-03-28</time></span>&nbsp;<span title="更新于 2023-03-28 14:44:40"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2023-03-28>2023-03-28</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 4520 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 10 分钟</span>&nbsp;<span id=/post/543fca94/ class=comment-visitors data-flag-title=Nmap-使用基础>
<i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=twikoo_visitors>-</span>&nbsp;次阅读
</span>&nbsp;<span id=/post/543fca94/ class=comment-count data-flag-title=Nmap-使用基础>
<i class="fa-regular fa-comments fa-fw me-1" aria-hidden=true></i><span id=twikoo-comment-count>-</span>&nbsp;条评论
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#常见用法与参数>常见用法与参数</a><ul><li><a href=#网段扫描格式>网段扫描格式</a></li><li><a href=#从文件中读取需要扫描的-ip-列表>从文件中读取需要扫描的 IP 列表</a></li><li><a href=#扫描除过某一个-ip-外的所有子网主机>扫描除过某一个 ip 外的所有子网主机</a></li><li><a href=#扫描除过某一个文件中的-ip-外的子网主机>扫描除过某一个文件中的 ip 外的子网主机</a></li><li><a href=#显示扫描的所有主机的列表>显示扫描的所有主机的列表</a></li><li><a href=#-sp>-sP</a></li><li><a href=#-ss>-sS</a></li><li><a href=#-st>-sT</a></li><li><a href=#-su>-sU</a></li><li><a href=#-sf>-sF</a></li><li><a href=#-sv>-sV</a></li><li><a href=#-o>-O</a></li><li><a href=#--osscan-guess>&ndash;osscan-guess</a></li><li><a href=#-pn>-PN</a></li><li><a href=#-t>-T</a></li><li><a href=#-traceroute>-traceroute</a></li><li><a href=#-a>-A</a></li></ul></li><li><a href=#参数速查>参数速查</a><ul><li><a href=#主机发现>主机发现</a></li><li><a href=#扫描技巧>扫描技巧</a></li><li><a href=#指定端口和扫描顺序>指定端口和扫描顺序</a></li><li><a href=#服务版本识别>服务版本识别</a></li><li><a href=#脚本扫描>脚本扫描</a></li><li><a href=#os-识别>OS 识别</a></li><li><a href=#防火墙--ids-躲避和哄骗>防火墙 / IDS 躲避和哄骗</a></li><li><a href=#nmap-输出>Nmap 输出</a></li><li><a href=#其他-nmap-选项>其他 Nmap 选项</a></li></ul></li><li><a href=#常见端口对应服务>常见端口对应服务</a></li></ul></nav></div></div><div class=content id=content><p>nmap使用基础</p><h1 id=nmap基础>Nmap基础</h1><h2 id=常见用法与参数>常见用法与参数</h2><p>Nmap默认发送ARP的ping数据包，检测常用端口开放</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><img src=https://npm.elemecdn.com/xrhugo@1.0.5/public/img/image-20230327214404178.png alt=image-20230327214404178 style=zoom:80% description=nihao><p>快速扫描多个IP地址目标</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap 192.168.244.160 192.168.244.1
</span></span></code></pre></td></tr></table></div></div><img src=https://npm.elemecdn.com/xrhugo@1.0.5/public/img/image-20230327214600527.png alt=image-20230327214600527 style=zoom:80%><p>简单扫描，并对返回的结果详细描述输出</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -vv 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><img src=https://npm.elemecdn.com/xrhugo@1.0.5/public/img/image-20230327215224914.png alt=image-20230327215224914 style=zoom:80%><p>指定端口和范围扫描</p><p>Nmap默认扫描常用端口号，使用-p参数设定扫描的端口范围</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -p 端口范围 目标主机IP
</span></span><span class=line><span class=cl>nmap -p 80-443 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><img src=https://npm.elemecdn.com/xrhugo@1.0.5/public/img/image-20230327215626646.png alt=image-20230327215626646 style=zoom:80%><h3 id=网段扫描格式>网段扫描格式</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -sP &lt;network address &gt; &lt;/CIDR &gt;  
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>10.1.1.0/8   <span class=o>=</span>  10.1.1.1-10.255.255.255   <span class=c1># a段扫描</span>
</span></span><span class=line><span class=cl>10.1.1.0/16  <span class=o>=</span>  10.1.1.1-10.1.255.255     <span class=c1># b段扫描</span>
</span></span><span class=line><span class=cl>10.1.1.0/24  <span class=o>=</span>  10.1.1.1-10.1.1.255       <span class=c1># c段扫描</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=从文件中读取需要扫描的-ip-列表>从文件中读取需要扫描的 IP 列表</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -iL ip-address.txt
</span></span></code></pre></td></tr></table></div></div><h3 id=扫描除过某一个-ip-外的所有子网主机>扫描除过某一个 ip 外的所有子网主机</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap 192.168.244.1/24 -exclude 192.168.244.1
</span></span></code></pre></td></tr></table></div></div><h3 id=扫描除过某一个文件中的-ip-外的子网主机>扫描除过某一个文件中的 ip 外的子网主机</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap 192.168.244.1/24 -exclude robots.txt
</span></span></code></pre></td></tr></table></div></div><h3 id=显示扫描的所有主机的列表>显示扫描的所有主机的列表</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -sL 192.168.244.1/24
</span></span></code></pre></td></tr></table></div></div><h3 id=-sp>-sP</h3><p>ping扫描：类似与windows/linux中ping扫描方式，常使用该命令去扫描一个内网范围来进行主机发现</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -sP 192.168.244.1-255/nmap -sP 192.168.244.1/24
</span></span></code></pre></td></tr></table></div></div><img src=https://npm.elemecdn.com/xrhugo@1.0.5/public/img/image-20230327220442785.png alt=image-20230327220442785 style=zoom:80%><h3 id=-ss>-sS</h3><p>SYN 半开放扫描</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>nmap -sS 192.168.244.160
</span></span><span class=line><span class=cl>SYN扫描,又称为半开放扫描，它不打开一个完全的TCP连接，执行得很快，效率高
</span></span><span class=line><span class=cl>优点：Nmap发送SYN包到远程主机，但是它不会产生任何会话，目标主机几乎不会把连接记入系统日志。
</span></span><span class=line><span class=cl>（防止对方判断为扫描攻击），扫描速度快，效率高，在工作中使用频率最高
</span></span><span class=line><span class=cl>缺点：需要root权限
</span></span></code></pre></td></tr></table></div></div><img src=https://npm.elemecdn.com/xrhugo@1.0.5/public/img/image-20230327220915658.png alt=image-20230327220915658 style=zoom:80%><h3 id=-st>-sT</h3><p>TCP 扫描</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>nmap -sT 192.168.244.160 等同于 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Tcp connect() scan (sT)和上面的Tcp SYN 对应，TCP connect()扫描就是默认的扫描模式.
</span></span><span class=line><span class=cl>不同于Tcp SYN扫描,Tcp connect()扫描需要完成三次握手,并且要求调用系统的connect().
</span></span><span class=line><span class=cl>扫描技术只适用于找出 TCP 和 UDP 端口。
</span></span><span class=line><span class=cl>优点：不需要root权限
</span></span><span class=line><span class=cl>缺点：这种扫描很容易被检测到，在目标主机的日志中会记录大批的连接请求以及错误信息，
</span></span><span class=line><span class=cl>由于它要完成3次握手，效率低，速度慢
</span></span></code></pre></td></tr></table></div></div><h3 id=-su>-sU</h3><p>UDP 扫描</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -sU 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>这种扫描技术用来寻找目标主机打开的 UDP 端口，它不需要发送任何的 SYN 包，因为这种技术是针对 UDP 端口的。
</span></span><span class=line><span class=cl>UDP 扫描发送 UDP 数据包到目标主机，并等待响应。如果返回 ICMP 不可达的错误消息，说明端口是关闭的，如果
</span></span><span class=line><span class=cl>得到正确的适当的回应，说明端口是开放的。
</span></span><span class=line><span class=cl>缺点：扫描速度较慢
</span></span></code></pre></td></tr></table></div></div><h3 id=-sf>-sF</h3><p>FIN 标志的数据包扫描</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>namp -sF 192.168.224.160
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>有时候TcpSYN扫描不是最佳的扫描模式,因为有防火墙的存在.目标主机有时候可能有IDS和IPS系统的存在,防火墙会阻止
</span></span><span class=line><span class=cl>掉SYN数据包。发送一个设置了FIN标志的数据包并不需要完成TCP的握手.和sS扫描效果差不多，比sT速度快
</span></span></code></pre></td></tr></table></div></div><h3 id=-sv>-sV</h3><p>Version 版本检测扫描</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -sV 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>版本检测是用来扫描目标主机和端口上运行的软件的版本,使用版本检测扫描之前需要先用 TCP SYN 扫描开放了哪些端口
</span></span><span class=line><span class=cl>扫描速度较慢
</span></span></code></pre></td></tr></table></div></div><h3 id=-o>-O</h3><p>OS 操作系统类型的探测</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -O 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>远程检测操作系统和软件，Nmap 的 OS 检测技术在渗透测试中用来了解远程主机的操作系统和软件是非常有用的，
</span></span><span class=line><span class=cl>通过获取的信息你可以知道已知的漏洞。Nmap 有一个名为的 nmap-OS-DB 数据库，该数据库包含超过 2600 种
</span></span><span class=line><span class=cl>操作系统的信息。Nmap 把 TCP 和 UDP 数据包发送到目标机器上，然后检查结果和数据库对照。
</span></span></code></pre></td></tr></table></div></div><h3 id=--osscan-guess>&ndash;osscan-guess</h3><p>猜测匹配操作系统</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -O --osscan-guess 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>通过 Nmap 准确的检测到远程操作系统是比较困难的，需要使用到 Nmap 的猜测功能选项，–osscan-guess 猜测认为最接近目标的匹配操作系统类型。
</span></span></code></pre></td></tr></table></div></div><h3 id=-pn>-PN</h3><p>No ping 扫描</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -O -PN 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>如果远程主机有防火墙，IDS 和 IPS 系统，你可以使用 -PN 命令来确保不 ping 远程主机，因为有时候防火墙会组织掉 ping 请求。-PN 命令告诉 Nmap 不用 ping 远程主机。有时候使用 -PN 参数可以绕过 PING 命令，但是不影响主机的系统的发现。
</span></span></code></pre></td></tr></table></div></div><h3 id=-t>-T</h3><p>设置时间模板</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -sS -T&lt;0-5&gt; 192.168.168.160
</span></span></code></pre></td></tr></table></div></div><p>优化时间控制选项的功能很强大也很有效，但有些用户会被迷惑。此外， 往往选择合适参数的时间超过了所需优化的扫描时间。因此，Nmap 提供了一些简单的 方法，使用 6 个时间模板，使用时采用 - T 选项及数字 (0 - 5) 或名称。模板名称有 <code>paranoid (0)、sneaky (1)、polite (2)、normal(3)、 aggressive (4)和insane (5)</code></p><ul><li>paranoid、sneaky 模式用于 IDS 躲避</li><li>Polite 模式降低了扫描 速度以使用更少的带宽和目标主机资源。</li><li>Normal 为默认模式，因此 - T3 实际上是未做任何优化。</li><li>Aggressive 模式假设用户具有合适及可靠的网络从而加速扫描.</li><li>nsane 模式假设用户具有特别快的网络或者愿意为获得速度而牺牲准确性。</li></ul><h3 id=-traceroute>-traceroute</h3><p>路由跟踪扫描：通过路由器追踪查处从我们电脑所在地到目标地之间所经常的网络节点，并可以看到通过各个节点所花费的时间。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -traceroute www.baidu.com
</span></span></code></pre></td></tr></table></div></div><h3 id=-a>-A</h3><p>综合扫描：包括系统探测，版本探测，脚本扫描，路由跟踪，速度很慢</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -A 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><p>多参数混合</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -vv -p 1-100,3306,3389 -O -traceroute 192.168.244.160
</span></span></code></pre></td></tr></table></div></div><img src=https://npm.elemecdn.com/xrhugo@1.0.5/public/img/image-20230328135045026.png alt=image-20230328135045026 style=zoom:50%><p>Nmap输出格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap -O -PN 192.168.244.160 -oN 1.txt <span class=c1>#标准输出</span>
</span></span><span class=line><span class=cl>nmap -O -PN 192.168.244.160 -oX 1.xml <span class=c1>#xml格式输出</span>
</span></span><span class=line><span class=cl>nmap -O -PN 192.168.244.160 -oG 2.txt <span class=c1>#grep格式输出</span>
</span></span></code></pre></td></tr></table></div></div><p>Nmap脚本使用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap --script 类别
</span></span></code></pre></td></tr></table></div></div><p>Nmap脚本分类</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>- auth: 负责处理鉴权证书（绕开鉴权）的脚本  
</span></span><span class=line><span class=cl>- broadcast: 在局域网内探查更多服务开启状况，如dhcp/dns/sqlserver等服务  
</span></span><span class=line><span class=cl>- brute: 提供暴力破解方式，针对常见的应用如http/snmp等  
</span></span><span class=line><span class=cl>- default: 使用-sC或-A选项扫描时候默认的脚本，提供基本脚本扫描能力  
</span></span><span class=line><span class=cl>- discovery: 对网络进行更多的信息，如SMB枚举、SNMP查询等  
</span></span><span class=line><span class=cl>- dos: 用于进行拒绝服务攻击  
</span></span><span class=line><span class=cl>- exploit: 利用已知的漏洞入侵系统  
</span></span><span class=line><span class=cl>- external: 利用第三方的数据库或资源，例如进行whois解析  
</span></span><span class=line><span class=cl>- fuzzer: 模糊测试的脚本，发送异常的包到目标机，探测出潜在漏洞
</span></span><span class=line><span class=cl>- intrusive: 入侵性的脚本，此类脚本可能引发对方的IDS/IPS的记录或屏蔽
</span></span><span class=line><span class=cl>- malware: 探测目标机是否感染了病毒、开启了后门等信息  
</span></span><span class=line><span class=cl>- safe: 此类与intrusive相反，属于安全性脚本  
</span></span><span class=line><span class=cl>- version: 负责增强服务与版本扫描（Version Detection）功能的脚本  
</span></span><span class=line><span class=cl>- vuln: 负责检查目标机是否有常见的漏洞（Vulnerability），如是否有MS08_067
</span></span></code></pre></td></tr></table></div></div><p>使用具体脚本进行扫描</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>nmap --script 具体的脚本 www.baidu.com
</span></span></code></pre></td></tr></table></div></div><p>常用脚本案例：</p><p>1、扫描服务器常见漏洞</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap --script vuln &lt;target&gt;
</span></span></code></pre></td></tr></table></div></div><p>2、检查FTP是否开启匿名登录</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmap --script ftp-anon &lt;target&gt;
</span></span><span class=line><span class=cl>PORT   STATE SERVICE
</span></span><span class=line><span class=cl>21/tcp open  ftp
</span></span><span class=line><span class=cl><span class=p>|</span> ftp-anon: Anonymous FTP login allowed <span class=o>(</span>FTP code 230<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span> -rw-r--r--   <span class=m>1</span> <span class=m>1170</span>     <span class=m>924</span>            <span class=m>31</span> Mar <span class=m>28</span>  <span class=m>2001</span> .banner
</span></span><span class=line><span class=cl><span class=p>|</span> d--x--x--x   <span class=m>2</span> root     root         <span class=m>1024</span> Jan <span class=m>14</span>  <span class=m>2002</span> bin
</span></span><span class=line><span class=cl><span class=p>|</span> d--x--x--x   <span class=m>2</span> root     root         <span class=m>1024</span> Aug <span class=m>10</span>  <span class=m>1999</span> etc
</span></span><span class=line><span class=cl><span class=p>|</span> drwxr-srwt   <span class=m>2</span> <span class=m>1170</span>     <span class=m>924</span>          <span class=m>2048</span> Jul <span class=m>19</span> 18:48 incoming <span class=o>[</span>NSE: writeable<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=p>|</span> d--x--x--x   <span class=m>2</span> root     root         <span class=m>1024</span> Jan <span class=m>14</span>  <span class=m>2002</span> lib
</span></span><span class=line><span class=cl><span class=p>|</span> drwxr-sr-x   <span class=m>2</span> <span class=m>1170</span>     <span class=m>924</span>          <span class=m>1024</span> Aug  <span class=m>5</span>  <span class=m>2004</span> pub
</span></span><span class=line><span class=cl><span class=p>|</span>_Only <span class=m>6</span> shown. Use --script-args ftp-anon.maxlist<span class=o>=</span>-1 to see all.
</span></span></code></pre></td></tr></table></div></div><p>3、对mysql进行暴力破解</p><img src=https://npm.elemecdn.com/xrhugo@1.0.6/public/img/image-20230328142953127-1679988225064-1.png alt=image-20230328142953127 style=zoom:67%><h2 id=参数速查>参数速查</h2><p>Nmap 支持主机名，网段的表示方式
例如:<code>blah.highon.coffee, namp.org/24, 192.168.0.1;10.0.0-25.1-254</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-iL filename				从文件中读取待检测的目标,文件中的表示方法支持机名,ip,网段
</span></span><span class=line><span class=cl>-iR hostnum                     随机选取,进行扫描.如果-iR指定为0,则是无休止的扫描
</span></span><span class=line><span class=cl>--exclude host1[, host2]        从扫描任务中需要排除的主机           
</span></span><span class=line><span class=cl>--exculdefile exclude_file      排除文件中的IP,格式和-iL指定扫描文件的格式相同
</span></span></code></pre></td></tr></table></div></div><h3 id=主机发现>主机发现</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-sL				仅仅是显示,扫描的IP数目,不会进行任何扫描
</span></span><span class=line><span class=cl>-sn                     ping扫描,即主机发现
</span></span><span class=line><span class=cl>-Pn                     不检测主机存活
</span></span><span class=line><span class=cl>-PS/PA/PU/PY[portlist]  TCP SYN Ping/TCP ACK Ping/UDP Ping发现
</span></span><span class=line><span class=cl>-PE/PP/PM               使用ICMP echo, timestamp and netmask 请求包发现主机
</span></span><span class=line><span class=cl>-PO[prococol list]      使用IP协议包探测对方主机是否开启   
</span></span><span class=line><span class=cl>-n/-R                   不对IP进行域名反向解析/为所有的IP都进行域名的反响解析
</span></span></code></pre></td></tr></table></div></div><h3 id=扫描技巧>扫描技巧</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-sS/sT/sA/sW/sM			TCP SYN/TCP connect()/ACK/TCP窗口扫描/TCP Maimon扫描
</span></span><span class=line><span class=cl>-sU                             UDP扫描
</span></span><span class=line><span class=cl>-sN/sF/sX                       TCP Null，FIN，and Xmas扫描
</span></span><span class=line><span class=cl>--scanflags                     自定义TCP包中的flags
</span></span><span class=line><span class=cl>-sI zombie host[:probeport]     Idlescan
</span></span><span class=line><span class=cl>-sY/sZ                          SCTP INIT/COOKIE-ECHO 扫描
</span></span><span class=line><span class=cl>-sO                             使用IP protocol 扫描确定目标机支持的协议类型
</span></span><span class=line><span class=cl>-b “FTP relay host”             使用FTP bounce scan
</span></span></code></pre></td></tr></table></div></div><h3 id=指定端口和扫描顺序>指定端口和扫描顺序</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-p				特定的端口 -p80,443 或者 -p1-65535
</span></span><span class=line><span class=cl>-p U:PORT               扫描udp的某个端口, -p U:53
</span></span><span class=line><span class=cl>-F                      快速扫描模式,比默认的扫描端口还少
</span></span><span class=line><span class=cl>-r                      不随机扫描端口,默认是随机扫描的
</span></span><span class=line><span class=cl>--top-ports &#34;number&#34;    扫描开放概率最高的number个端口,出现的概率需要参考nmap-services文件,ubuntu中该文件位于/usr/share/nmap.nmap默认扫前1000个
</span></span><span class=line><span class=cl>--port-ratio &#34;ratio&#34;    扫描指定频率以上的端口
</span></span></code></pre></td></tr></table></div></div><h3 id=服务版本识别>服务版本识别</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-sV						开放版本探测,可以直接使用-A同时打开操作系统探测和版本探测
</span></span><span class=line><span class=cl>--version-intensity &#34;level&#34;     设置版本扫描强度,强度水平说明了应该使用哪些探测报文。数值越高，服务越有可能被正确识别。默认是7
</span></span><span class=line><span class=cl>--version-light                 打开轻量级模式,为--version-intensity 2的别名
</span></span><span class=line><span class=cl>--version-all                   尝试所有探测,为--version-intensity 9的别名
</span></span><span class=line><span class=cl>--version-trace                 显示出详细的版本侦测过程信息
</span></span></code></pre></td></tr></table></div></div><h3 id=脚本扫描>脚本扫描</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-sC						根据端口识别的服务,调用默认脚本
</span></span><span class=line><span class=cl>--script=”Lua scripts”          调用的脚本名
</span></span><span class=line><span class=cl>--script-args=n1=v1,[n2=v2]     调用的脚本传递的参数
</span></span><span class=line><span class=cl>--script-args-file=filename     使用文本传递参数
</span></span><span class=line><span class=cl>--script-trace                  显示所有发送和接收到的数据
</span></span><span class=line><span class=cl>--script-updatedb               更新脚本的数据库
</span></span><span class=line><span class=cl>--script-help=”Lua script”      显示指定脚本的帮助
</span></span></code></pre></td></tr></table></div></div><h3 id=os-识别>OS 识别</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-O			启用操作系统检测,-A来同时启用操作系统检测和版本检测
</span></span><span class=line><span class=cl>--osscan-limit		针对指定的目标进行操作系统检测(至少需确知该主机分别有一个open和closed的端口)
</span></span><span class=line><span class=cl>--osscan-guess		推测操作系统检测结果,当Nmap无法确定所检测的操作系统时，会尽可能地提供最相近的匹配，Nmap默认进行这种匹配
</span></span></code></pre></td></tr></table></div></div><h3 id=防火墙--ids-躲避和哄骗>防火墙 / IDS 躲避和哄骗</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-f; --mtu value			指定使用分片、指定数据包的MTU.
</span></span><span class=line><span class=cl>-D decoy1,decoy2,ME             使用诱饵隐蔽扫描
</span></span><span class=line><span class=cl>-S IP-ADDRESS                   源地址欺骗
</span></span><span class=line><span class=cl>-e interface                    使用指定的接口
</span></span><span class=line><span class=cl>-g/ --source-port PROTNUM       使用指定源端口  
</span></span><span class=line><span class=cl>--proxies url1,[url2],...       使用HTTP或者SOCKS4的代理
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>--data-length NUM               填充随机数据让数据包长度达到NUM
</span></span><span class=line><span class=cl>--ip-options OPTIONS            使用指定的IP选项来发送数据包
</span></span><span class=line><span class=cl>--ttl VALUE                     设置IP time-to-live域
</span></span><span class=line><span class=cl>--spoof-mac ADDR/PREFIX/VEBDOR  MAC地址伪装
</span></span><span class=line><span class=cl>--badsum                        使用错误的checksum来发送数据包
</span></span></code></pre></td></tr></table></div></div><h3 id=nmap-输出>Nmap 输出</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-oN				将标准输出直接写入指定的文件
</span></span><span class=line><span class=cl>-oX                     输出xml文件
</span></span><span class=line><span class=cl>-oS                     将所有的输出都改为大写
</span></span><span class=line><span class=cl>-oG                     输出便于通过bash或者perl处理的格式,非xml
</span></span><span class=line><span class=cl>-oA BASENAME            可将扫描结果以标准格式、XML格式和Grep格式一次性输出
</span></span><span class=line><span class=cl>-v                      提高输出信息的详细度
</span></span><span class=line><span class=cl>-d level                设置debug级别,最高是9
</span></span><span class=line><span class=cl>--reason                显示端口处于带确认状态的原因
</span></span><span class=line><span class=cl>--open                  只输出端口状态为open的端口
</span></span><span class=line><span class=cl>--packet-trace          显示所有发送或者接收到的数据包
</span></span><span class=line><span class=cl>--iflist                显示路由信息和接口,便于调试
</span></span><span class=line><span class=cl>--log-errors            把日志等级为errors/warings的日志输出
</span></span><span class=line><span class=cl>--append-output         追加到指定的文件
</span></span><span class=line><span class=cl>--resume FILENAME       恢复已停止的扫描
</span></span><span class=line><span class=cl>--stylesheet PATH/URL   设置XSL样式表，转换XML输出
</span></span><span class=line><span class=cl>--webxml                从namp.org得到XML的样式
</span></span><span class=line><span class=cl>--no-sytlesheet         忽略XML声明的XSL样式表
</span></span></code></pre></td></tr></table></div></div><h3 id=其他-nmap-选项>其他 Nmap 选项</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VERILOG-6				开启IPv6
</span></span><span class=line><span class=cl>-A                      OS识别,版本探测,脚本扫描和traceroute
</span></span><span class=line><span class=cl>--datedir DIRNAME       说明用户Nmap数据文件位置
</span></span><span class=line><span class=cl>--send-eth / --send-ip  使用原以太网帧发送/在原IP层发送
</span></span><span class=line><span class=cl>--privileged            假定用户具有全部权限
</span></span><span class=line><span class=cl>--unprovoleged          假定用户不具有全部权限,创建原始套接字需要root权限
</span></span><span class=line><span class=cl>-V                      打印版本信息
</span></span><span class=line><span class=cl>-h                      输出帮助
</span></span></code></pre></td></tr></table></div></div><h2 id=常见端口对应服务>常见端口对应服务</h2><table><thead><tr><th style=text-align:center>服务</th><th style=text-align:center>端口</th><th style=text-align:center>说明</th></tr></thead><tbody><tr><td style=text-align:center>FTP</td><td style=text-align:center>20</td><td style=text-align:center>FTP服务器真正传输所用的端口，用于上传、下载</td></tr><tr><td style=text-align:center>FTP</td><td style=text-align:center>21</td><td style=text-align:center>用于FTP的登陆认证</td></tr><tr><td style=text-align:center>SSH、SFTP</td><td style=text-align:center>22</td><td style=text-align:center>加密的远程登录，文件传输</td></tr><tr><td style=text-align:center>Telnet</td><td style=text-align:center>23</td><td style=text-align:center>远程登录（在本地主机上使用此端口与远程服务器的22/3389端口连接）</td></tr><tr><td style=text-align:center>SMTP</td><td style=text-align:center>25</td><td style=text-align:center>用于发送邮件</td></tr><tr><td style=text-align:center>HTTP</td><td style=text-align:center>80</td><td style=text-align:center>用于网页浏览</td></tr><tr><td style=text-align:center>POP3</td><td style=text-align:center>110</td><td style=text-align:center>SUN公司的RPC服务所有端口</td></tr><tr><td style=text-align:center>Network News Transfer Protocol</td><td style=text-align:center>119</td><td style=text-align:center>NEWS新闻组传输协议，承载USENET通信</td></tr><tr><td style=text-align:center>SMTP</td><td style=text-align:center>161</td><td style=text-align:center>Simple Network Management Protocol，简单网络管理协议</td></tr><tr><td style=text-align:center>SNMP Trap</td><td style=text-align:center>162</td><td style=text-align:center>SNMP陷阱</td></tr><tr><td style=text-align:center>HTTPS</td><td style=text-align:center>443</td><td style=text-align:center>加密的网页浏览端口</td></tr><tr><td style=text-align:center>CIFS</td><td style=text-align:center>445</td><td style=text-align:center>公共Internet文件系统</td></tr><tr><td style=text-align:center>sql server</td><td style=text-align:center>1433</td><td style=text-align:center>Microsoft的SQL服务开放的端口 数据库</td></tr><tr><td style=text-align:center>Oracle</td><td style=text-align:center>1521</td><td style=text-align:center>数据库</td></tr><tr><td style=text-align:center>NFS</td><td style=text-align:center>2049</td><td style=text-align:center>通过网络，让不同的机器、不同的操作系统实现文件共享</td></tr><tr><td style=text-align:center>MySQL</td><td style=text-align:center>3306</td><td style=text-align:center>数据库</td></tr><tr><td style=text-align:center>WIN2003远程登录</td><td style=text-align:center>3389</td><td style=text-align:center>Windows 2000(2003) Server远程桌面的服务端口，本地服务器开放此端口，去连接到远程的服务器</td></tr><tr><td style=text-align:center>QQ</td><td style=text-align:center>4000</td><td style=text-align:center>腾讯QQ客户端开放此端口</td></tr><tr><td style=text-align:center>WebLogic</td><td style=text-align:center>7001</td><td style=text-align:center>一个基于JAVAEE架构的中间件，WebLogic是用于开发、集成、部署和管理大型分布式Web应用、网络应用和数据库应用的Java应用服务器</td></tr><tr><td style=text-align:center>Wingate</td><td style=text-align:center>8010</td><td style=text-align:center>Wingate代理开放此端口</td></tr><tr><td style=text-align:center>TOMCAT</td><td style=text-align:center>8080</td><td style=text-align:center>WWW代理开放此端口</td></tr></tbody></table><p>参考文章：
<a href=https://www.sqlsec.com/2017/07/nmap.html target=_blank rel="external nofollow noopener noreferrer">Nmap 不老的神器</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2023-03-28 14:44:40">更新于 2023-03-28&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/nmap/ class=post-tag>nmap</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/post/5ded7b78/ class=post-nav-item rel=prev title=Go入门日记-数组><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Go入门日记-数组</a>
<a href=/post/9a9550e5/ class=post-nav-item rel=next title=常见安全漏洞-SQL注入>常见安全漏洞-SQL注入<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=twikoo></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://twikoo.js.org/ rel="external nofollow noopener noreferrer">Twikoo</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2023</span><span class=author itemprop=copyrightHolder>
<a href=https://xunruo.top target=_blank rel="external nofollow noopener noreferrer">xunruo</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=查看评论><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><div id=mask></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><div class=assets><link rel=stylesheet href=https://npm.elemecdn.com/lightgallery@2.6.1/css/lightgallery-bundle.min.css><link rel=stylesheet href=https://npm.elemecdn.com/katex@0.16.2/dist/katex.min.css><link rel=stylesheet href=https://npm.elemecdn.com/xrhugo/public/lib/pace//themes/custom/pace-theme-custom.css><script src=https://npm.elemecdn.com/twikoo@1.6.11/dist/twikoo.all.min.js defer></script><script src=https://npm.elemecdn.com/autocomplete.js@0.38.1/dist/autocomplete.min.js defer></script><script src=https://npm.elemecdn.com/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js defer></script><script src=https://npm.elemecdn.com/instant.page@5.1.1/instantpage.js async defer type=module></script><script src=https://npm.elemecdn.com/lightgallery@2.6.1/lightgallery.min.js defer></script><script src=https://npm.elemecdn.com/lightgallery@2.6.1/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=https://npm.elemecdn.com/lightgallery@2.6.1/plugins/zoom/lg-zoom.min.js defer></script><script src=https://npm.elemecdn.com/katex@0.16.2/dist/katex.min.js defer></script><script src=https://npm.elemecdn.com/katex@0.16.2/dist/contrib/auto-render.min.js defer></script><script src=https://npm.elemecdn.com/katex@0.16.2/dist/contrib/copy-tex.min.js defer></script><script src=https://npm.elemecdn.com/katex@0.16.2/dist/contrib/mhchem.min.js defer></script><script src=https://npm.elemecdn.com/pace-js@1.2.4/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:30},comment:{enable:!0,expired:!1,twikoo:{commentCount:!0,el:"#twikoo",envId:"https://xunruo.zeabur.app",lang:"zh-cn"}},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"CD7PCXN604",algoliaIndex:"blog",algoliaSearchKey:"fb4dd80e30d8b81251b3a8f3c1e96302",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"}}</script><script src=https://npm.elemecdn.com/xrhugo@1.0.6/public/js/theme.min.js defer></script><script src=/js/custom.min.js defer></script></div></body></html>